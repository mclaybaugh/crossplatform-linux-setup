#!/bin/bash
# Author: Michael Claybaugh
# Date created: Friday, Apr 13, 2018
# Description: Bash shell script for automating the setup of my prefered linux
#              programs and settings

# 1. Create separate home partition
# 2. Install linux
# 3. install software

#**************************************************************
# Section 1: Installation of software
#**************************************************************

installUbuntuNorms() {
	sudo apt install build-essential curl git htop ranger \
		fonts-powerline fzf ripgrep fish
}
echo "apt install build-essential curl git htop npm nodejs ranger fonts-powerline"
read -p "Apt Install norms for Ubuntu? [y/N]: " wantsUbuntuNorms
if [ "$wantsUbuntuNorms" == "y" ]; then
	installUbuntuNorms
fi

installPython() {
	sudo apt install python python-dev python-pip python3 python3-dev python3-pip
}
echo "apt install python python-dev python-pip python3 python3-dev python3-pip"
read -p "Install python? [y/N]: " wantsPython
if [ "$wantsPython" == "y" ]; then
	installPython
fi

installManjaroNorms() {
  sudo pacman -Syu fzf ripgrep ranger fish snapd docker docker-compose
}
read -p "Pacman -Syu norms for Manjaro? [y/N]: " installManjaroNorms
if [ "$installManjaroNorms" == "y" ]; then
	installManjaroNorms
fi

#manjaro docker
#sudo systemctl start docker
#sudo systemctl enable docker
#sudo usermod -aG docker $USER

# Vim-Plug
#installVimPlug() {
#  curl -fLo ~/.vim/autoload/plug.vim --create-dirs \
#    https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
#}
#read -p "Install Vim-Plug? [y/N]: " wantsVimPlug
#if [ "$wantsVimPlug" == "y" ]; then
#  installVimPlug
#  echo "After this setup, open Vim and type :PlugInstall"
#fi

# Python
#apt install python python-dev python-pip python3 python3-dev python3-pip

# Docker
#apt install docker docker-compose

# PHP
#apt install php

# Latex
#texlive-full biber

# OTHER
# Visual Studio Code, Google Chrome
#npm install -g eslint

# To connect to SQL Server
#sudo apt install freetds unixodbc unixodbc-dev

#*************************************************************
# Section 3: Updating config files in home directory
#**************************************************************
#TARGET_USER="mclaybaugh2"

echo "git config --global user.name 'Michael Claybaugh'"
echo "git config --global user.email 'mclaybaugh2@liberty.edu'"
read -p "Setup git config name and email? [y/N]: " wantsSetupGit
if [ "$wantsSetupGit" == "y" ]; then
  git config --global user.name "Michael Claybaugh"
  git config --global user.email "mclaybaugh2@liberty.edu"
fi

# Unused files, do not comment unless using these
#cp ./.config/i3/config "/home/$TARGET_USER/.config/i3/config" -v

read -p "Set permissions of ssh folder? [y/N]: " wantsSshPerms
if [ "$wantsSshPerms" == "y" ]; then
  sudo chmod 700 ~/.ssh
  sudo chmod 644 ~/.ssh/id_rsa.pub
  sudo chmod 600 ~/.ssh/id_rsa
  sudo chmod 600 ~/.ssh/config
fi

# Getting nvm to work with fish

# 1. install fisher
#curl https://git.io/fisher --create-dirs -sLo ~/.config/fish/functions/fisher.fish
# 2. install bass
#fisher add edc/bass
# 3. add function to ~/.config/fish/functions/nvm.fish
#function nvm
#  bass source ~/.nvm/nvm.sh --no-use ';' nvm $argv
#end
